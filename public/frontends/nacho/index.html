<!DOCTYPE html>
<html ng-app="ResultsManagerApp">

<head>
    <title>
        Elections Voting Stats
    </title>
    <link rel="stylesheet" href="/bower_components/bootstrap/dist/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="/bower_components/bootstrap/dist/css/bootstrap-theme.min.css" type="text/css" />
    <script type="text/javascript" src="/bower_components/jquery/dist/jquery.min.js"></script>
    <script type="text/javascript" src="/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/bower_components/angular/angular.min.js"></script>

    <!-- SI NO SE LE AÑADE EL PUNTO (.) AL PRINCIPIO DE LA RUTA NO FUNCIONA...A QUÉ SE DEBE? SI EN LOCAL SÍ FUNCIONABA! -->
    <script type="text/javascript" src="./results-manager-app.js"></script>
    <!--Si se pusiera al revés estaría mal, daría problemas... -->
    <script type="text/javascript" src="./list-ctrl.js"></script>

</head>

<body>
    <div ng-controller="ListCtrl">
        <h1>Elections Voting Stats</h1>

        <!-- Apikey and pagination fields table -->
        <table class="tableMod" bgcolor="#00FF00">
            <thead>
                <tr>
                    <th>
                        <h3>Apikey</h3>
                    </th>
                    <th>
                        <h3>Limit</h3>
                    </th>
                    <th>
                        <h3>Offset</h3>
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><input type="password" class="form-ctrl" ng-model="apikey"></td>
                    <td><input class="form-ctrl" ng-model="limit"></td>
                    <td><input class="form-ctrl" ng-model="offset"></td>
                    <td><button class="btn btn-basic" ng-click="show()">SHOW</button></td>
                </tr>
            </tbody>
        </table>

        <!--Main Table -->
        <table class="table">
            <thead>
                <tr>
                    <th>Province</th>
                    <th>Year</th>
                    <th>PP seats</th>
                    <th>Podemos seats</th>
                    <th>Psoe seats</th>
                    <th>CS seats</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><input class="form-ctrl" ng-model="newResult.province"></td>
                    <td><input class="form-ctrl" ng-model="newResult.year"></td>
                    <td><input class="form-ctrl" ng-model="newResult.pp"></td>
                    <td><input class="form-ctrl" ng-model="newResult.podemos"></td>
                    <td><input class="form-ctrl" ng-model="newResult.psoe"></td>
                    <td><input class="form-ctrl" ng-model="newResult.cs"></td>
                    <div id="actions">
                        <td><button class="btn btn-primary" ng-click="addResult()">Add</button></td>
                        <td><button class="btn btn-warning" ng-click="updateResult()">Update</button></td>
                        <td><button class="btn btn-danger" ng-click="deleteAll()">Delete All</button></td>
                        <td><button class="btn btn-info" ng-click="search()">Search</button></td>
                        <td><button class="btn btn-success" ng-click="lid()">LID</button></td>
                        <td><button class="btn btn-success" ng-click="lwd()">LWD</button></td>
                    </div>
                </tr>

                <tr ng-repeat="result in results">
                    <td>{{result.province}}</td>
                    <td>{{result.year}}</td>
                    <td>{{result.pp}}</td>
                    <td>{{result.podemos}}</td>
                    <td>{{result.psoe}}</td>
                    <td>{{result.cs}}</td>
                    <td><button class="btn btn-danger" ng-click="deleteResult(result)">Delete</td>
            </tr>
            <div data-pagination="" data-num-pages="numPages()" 
      data-current-page="currentPage" data-max-size="maxSize"  
      data-boundary-links="true"></div>
        </tbody>
    </table>
    
</body>

</html>